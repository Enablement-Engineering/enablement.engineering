---
import Layout from '../../layouts/Layout.astro';
import Header from '../../components/Header.astro';
import Tag from '../../components/Tag.astro';
import Heading from '../../components/Heading.astro';
import ArrowLink from '../../components/ArrowLink.astro';
import { getAllUniqueTags, slugifyTag } from '../../utils/tags';

const tagCounts = await getAllUniqueTags();
---

<Layout 
  title="Tags | Dylan Isaac"
  description="Browse articles by topic. Explore writings on AI, accessibility, patterns, and human-centered technology."
>
  <Header />
  <main id="main" class="max-w-content-wide mx-auto px-6 md:px-8 py-16">
    <div class="max-w-content">
      <div class="flex items-center justify-between mb-16">
        <Heading level={1} class="text-h1 font-bold">Browse by Topic</Heading>
        <ArrowLink href="/writing" class="text-base">
          All Articles
        </ArrowLink>
      </div>
      
      <section id="all-tags">
        <Heading level={2} class="sr-only">All Tags</Heading>
        <div class="space-y-8">
          {tagCounts.size > 0 ? (
            <div class="flex flex-wrap gap-4">
              {Array.from(tagCounts.entries()).map(([tag, count], index) => (
                <div class="inline-flex items-center gap-2">
                  <Tag name={tag} colorIndex={index} />
                  <span class="text-small text-content-muted dark:text-dark-content-muted">
                    ({count})
                  </span>
                </div>
              ))}
            </div>
          ) : (
            <p class="text-content-muted dark:text-dark-content-muted">
              No tags found yet.
            </p>
          )}
        </div>
      </section>

      <section class="mt-16 pt-16 border-t border-content-subtle/20 dark:border-dark-content-subtle/20">
        <Heading level={2} class="text-h3 font-medium mb-8">About Topics</Heading>
        <div class="prose dark:prose-invert">
          <p>
            These tags represent the main themes and concepts explored in my writing. 
            Click any tag to see related articles.
          </p>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
            <div>
              <Heading level={3} class="text-h4 font-medium mb-3">Core Themes</Heading>
              <ul class="space-y-2 list-disc list-inside text-content-muted dark:text-dark-content-muted">
                <li><strong>AI</strong> - Artificial intelligence and machine learning</li>
                <li><strong>Patterns</strong> - Reusable solutions and expertise encoding</li>
                <li><strong>Translation</strong> - Bridging different domains and epistemologies</li>
                <li><strong>Accessibility</strong> - Making technology inclusive for all</li>
              </ul>
            </div>
            <div>
              <Heading level={3} class="text-h4 font-medium mb-3">Approaches</Heading>
              <ul class="space-y-2 list-disc list-inside text-content-muted dark:text-dark-content-muted">
                <li><strong>Human-Centered Tech</strong> - Technology that adapts to people</li>
                <li><strong>Writing</strong> - Content creation and communication</li>
                <li><strong>Open Source</strong> - Sharing knowledge and tools</li>
                <li><strong>Agency</strong> - Empowering human capabilities</li>
              </ul>
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>
</Layout>